<!DOCTYPE html>
<html>
<head>
    <title>Rs - Image Comparison | Richdale AI</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#ffffff">
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    <style>
        :root {
            --primary-color: #00008B; /* Dark Blue */
            --background-color: #ffffff;
        }
        
        body {
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            background: var(--background-color);
            font-family: Arial, sans-serif;
        }

        .brand-header {
            text-align: center;
            margin-bottom: 30px;
            color: var(--primary-color);
        }

        .brand-logo {
            font-size: 2.5em;
            font-weight: bold;
            margin: 0;
        }

        .brand-logo sup {
            font-size: 0.5em;
            font-weight: normal;
        }

        .brand-subtitle {
            font-size: 0.9em;
            margin: 5px 0;
            opacity: 0.8;
        }

        .upload-container {
            max-width: 800px;
            margin: 0 auto 20px;
            padding: 20px;
            background: var(--background-color);
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .upload-section {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }

        .upload-box {
            flex: 1;
            padding: 15px;
            background: #f8f8f8;
            border-radius: 4px;
            border: 1px solid #eee;
        }

        .upload-box h3 {
            margin: 0 0 10px 0;
            color: var(--primary-color);
        }

        .slider-container {
            position: relative;
            width: 800px;
            height: 500px;
            overflow: hidden;
            margin: 0 auto;
            background: #f8f8f8;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .slider-image {
            position: absolute;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .slider-image.overlay {
            clip-path: polygon(0 0, 50% 0, 50% 100%, 0 100%);
        }

        .slider-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: var(--primary-color);
            cursor: ew-resize;
            z-index: 3;
            transform: translateX(-50%);
        }

        .placeholder-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: var(--primary-color);
            text-align: center;
        }

        @media (max-width: 850px) {
            .slider-container {
                width: 100%;
                height: 400px;
            }
            .upload-container {
                width: 100%;
                padding: 10px;
            }
            .upload-section {
                flex-direction: column;
                gap: 10px;
            }
            .brand-logo {
                font-size: 2em;
            }
        }
    </style>
</head>
<body>
    <div class="brand-header">
        <h1 class="brand-logo">R<sup>s</sup></h1>
        <p class="brand-subtitle">by Richdale AI</p>
    </div>

    <div class="upload-container">
        <div class="upload-section">
            <div class="upload-box">
                <h3>Before Image</h3>
                <input type="file" id="beforeInput" accept="image/*">
            </div>
            <div class="upload-box">
                <h3>After Image</h3>
                <input type="file" id="afterInput" accept="image/*">
            </div>
        </div>
    </div>

    <div class="slider-container" id="sliderContainer">
        <div class="placeholder-text">Please upload both images to start comparing</div>
        <img src="" alt="Before" class="slider-image" id="beforeImage" style="display: none;">
        <img src="" alt="After" class="slider-image overlay" id="afterImage" style="display: none;">
        <div class="slider-handle" id="sliderHandle"></div>
    </div>

    <script>
        const container = document.getElementById('sliderContainer');
        const handle = document.getElementById('sliderHandle');
        const beforeImage = document.getElementById('beforeImage');
        const afterImage = document.getElementById('afterImage');
        const beforeInput = document.getElementById('beforeInput');
        const afterInput = document.getElementById('afterInput');
        const placeholderText = document.querySelector('.placeholder-text');
        let isDragging = false;

        function updateSliderPosition(x) {
            const rect = container.getBoundingClientRect();
            const position = Math.max(0, Math.min(1, (x - rect.left) / rect.width));
            const percentage = position * 100;
            
            handle.style.left = `${percentage}%`;
            afterImage.style.clipPath = `polygon(0 0, ${percentage}% 0, ${percentage}% 100%, 0 100%)`;
        }

        function handleImageUpload(file, imgElement) {
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imgElement.src = e.target.result;
                    imgElement.style.display = 'block';
                    checkImagesLoaded();
                };
                reader.readAsDataURL(file);
            }
        }

        function checkImagesLoaded() {
            if (beforeImage.src && afterImage.src) {
                placeholderText.style.display = 'none';
            }
        }

        beforeInput.addEventListener('change', (e) => {
            handleImageUpload(e.target.files[0], beforeImage);
        });

        afterInput.addEventListener('change', (e) => {
            handleImageUpload(e.target.files[0], afterImage);
        });

        handle.addEventListener('mousedown', () => {
            isDragging = true;
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            updateSliderPosition(e.clientX);
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
        });

        container.addEventListener('click', (e) => {
            updateSliderPosition(e.clientX);
        });
    </script>
</body>
</html>
